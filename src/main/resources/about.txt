Реализация алгоритма заполнения с перегородкой